{% load static %}
<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>âž• Ø«Ø¨Øª Ø¯Ø§Ø¯Ù‡ Ø¨Ø§Ø±Ù†Ø¯Ú¯ÛŒ</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.rtl.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/persian-datepicker/dist/css/persian-datepicker.min.css" />
    <style>
        body { background-color: #f8f9fa; padding: 20px; font-family: 'Vazirmatn', sans-serif; }
        .form-container { max-width: 600px; margin: auto; background: #fff; padding: 25px; border-radius: 8px; box-shadow: 0 0 10px rgba(0,0,0,0.1); }
        .btn-submit { width: 100%; }
        label { font-weight: bold; }
    </style>
</head>
<body>

<div class="form-container">
    <h3 class="mb-4 text-center">âž• Ø«Ø¨Øª Ø¯Ø§Ø¯Ù‡ Ø¨Ø§Ø±Ù†Ø¯Ú¯ÛŒ</h3>

    {% if success %}
        <div class="alert alert-success">{{ success }}</div>
    {% endif %}
    {% if errors %}
        <div class="alert alert-danger">
            {% for field, error_list in errors.items %}
                <strong>{{ field }}:</strong> {{ error_list|join:", " }}<br>
            {% endfor %}
        </div>
    {% endif %}

    <form method="post" class="g-3">
        {% csrf_token %}

        <div class="mb-3">
            <label for="id_station" class="form-label">Ø§ÛŒØ³ØªÚ¯Ø§Ù‡</label>
            {{ form.station }}
        </div>

        <div class="mb-3">
            <label for="datepicker" class="form-label">ØªØ§Ø±ÛŒØ®</label>
            <input type="text" id="datepicker" name="date" class="form-control" placeholder="Ø§Ù†ØªØ®Ø§Ø¨ ØªØ§Ø±ÛŒØ®..." autocomplete="off" required>
        </div>

        <div class="mb-3">
            <label for="time_select" class="form-label">Ø³Ø§Ø¹Øª</label>
            <select id="time_select" name="time" class="form-select" required>
                <option value="">Ø§Ù†ØªØ®Ø§Ø¨ Ø¨Ø§Ø²Ù‡ Ø³Ø§Ø¹Øª</option>
                <option value="00-03">Û°Û°-Û°Û³</option>
                <option value="03-06">Û°Û³-Û°Û¶</option>
                <option value="06-09">Û°Û¶-Û°Û¹</option>
                <option value="09-12">Û°Û¹-Û±Û²</option>
                <option value="12-15">Û±Û²-Û±Ûµ</option>
                <option value="15-18">Û±Ûµ-Û±Û¸</option>
                <option value="18-21">Û±Û¸-Û²Û±</option>
                <option value="21-00">Û²Û±-Û°Û°</option>
            </select>
        </div>

        <div class="mb-3">
            <label for="id_rainfall_mm" class="form-label">Ù…ÛŒØ²Ø§Ù† Ø¨Ø§Ø±Ø´ (Ù…ÛŒÙ„ÛŒÙ…ØªØ±)</label>
            {{ form.rainfall_mm }}
        </div>

        <button type="submit" class="btn btn-primary btn-submit">ðŸ’¾ Ø«Ø¨Øª Ø¯Ø§Ø¯Ù‡</button>
        <a href="{% url 'dashboard' %}" class="btn btn-secondary btn-submit mt-2">ðŸ”™ Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯</a>
    </form>
</div>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/persian-date/dist/persian-date.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/persian-datepicker/dist/js/persian-datepicker.min.js"></script>

<script>
$(document).ready(function () {
    $("#datepicker").persianDatepicker({
        format: 'YYYY/MM/DD',
        autoClose: true,
        observer: true,
        initialValue: false,
        calendarType: 'persian',
        timePicker: { enabled: false }
    });
});
</script>

</body>
</html>
